<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>How to keep your sanity working with Scala Implicit! - LPRAKASHV CODE BYTES</title><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DNE09NG226"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DNE09NG226")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script><meta name=description content="Courtesy: https://www.pexels.com/
Intro Scala Implicits provide a lot of power and flexibility to express the code in such beautiful ways that development sometimes feel like and art and are nothing short of a ‚ÄúBrahmastra‚Äù in the hand of a library developer.
And, as Spider-man‚Äôs uncle said,
‚ÄúWith great power, comes greater responsibility!‚Äù
The abuse of such a powerful feature has made working with them a nightmare sometimes for the end users."><meta property="og:image" content><meta property="og:title" content="How to keep your sanity working with Scala Implicit!"><meta property="og:description" content="Courtesy: https://www.pexels.com/
Intro Scala Implicits provide a lot of power and flexibility to express the code in such beautiful ways that development sometimes feel like and art and are nothing short of a ‚ÄúBrahmastra‚Äù in the hand of a library developer.
And, as Spider-man‚Äôs uncle said,
‚ÄúWith great power, comes greater responsibility!‚Äù
The abuse of such a powerful feature has made working with them a nightmare sometimes for the end users."><meta property="og:type" content="article"><meta property="og:url" content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/"><meta property="og:image" content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/1.jpeg"><meta property="og:image" content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/2.gif"><meta property="og:image" content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/3.png"><meta property="og:image" content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/4.png"><meta property="og:image" content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/5.png"><meta property="og:image" content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/6.gif"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-10-17T08:14:10+00:00"><meta property="article:modified_time" content="2022-08-13T01:14:49+05:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.lprakashv.com/posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/1.jpeg"><meta name=twitter:title content="How to keep your sanity working with Scala Implicit!"><meta name=twitter:description content="Courtesy: https://www.pexels.com/
Intro Scala Implicits provide a lot of power and flexibility to express the code in such beautiful ways that development sometimes feel like and art and are nothing short of a ‚ÄúBrahmastra‚Äù in the hand of a library developer.
And, as Spider-man‚Äôs uncle said,
‚ÄúWith great power, comes greater responsibility!‚Äù
The abuse of such a powerful feature has made working with them a nightmare sometimes for the end users."><script src=https://www.lprakashv.com/js/feather.min.js></script>
<link href=https://www.lprakashv.com/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.lprakashv.com/css/main.42a94afe1d883ff4fcef4d850a21c8e0c6903e7b33798d5ca18916cbd645a78a.css></head><body><div class=content-side><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-3468549466738898 data-ad-slot=6861065745 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class=content><header><div class=main><div style=display:flex;flex-direction:row><img src="../../LPRAKASHV CODE BYTES-logos_transparent.png" style=border-color:#fff;border-radius:10px;width:150px><div style=margin:auto><a href=https://www.lprakashv.com/ style=font-size:30px;font-weight:700>LPRAKASHV CODE BYTES</a></div></div></div><nav><a href=../../>Home</a>
<a href=../../posts>All posts</a>
<a href=../../about>About</a>
<a href=../../tags>Tags</a></nav></header><main><article><div class=title><h1 class=title>How to keep your sanity working with Scala Implicit!</h1><div class=meta>Posted on Oct 17, 2019</div></div><section class=body><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/1.jpeg#layoutTextWidth alt=image>
Courtesy: <a href=https://www.pexels.com/photo/calm-daylight-evening-grass-267967/>https://www.pexels.com/</a></p><h2 id=intro>Intro</h2><p>Scala Implicits provide a lot of power and flexibility to express the code in such beautiful ways that development sometimes feel like and art and are nothing short of a ‚Äú<a href=https://en.wikipedia.org/wiki/Brahmastra>Brahmastra</a>‚Äù in the hand of a library developer.</p><p>And, as Spider-man‚Äôs uncle said,</p><blockquote><p>‚ÄúWith great power, comes greater responsibility!‚Äù</p></blockquote><p>The abuse of such a powerful feature has made working with them a nightmare sometimes for the end users. For example:</p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/2.gif#layoutTextWidth alt=image></p><p>You will keep you head scratching over the above script until you find an implicit conversion (from Int to String) and an extension method (toHindiDigits) coming from just two imports!</p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/3.png#layoutTextWidth alt=image></p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/4.png#layoutTextWidth alt=image></p><p>Even <a href=https://en.wikipedia.org/wiki/Martin_Odersky>Martin Odersky</a> ( üôå), the creator of Scala has admitted that he has made quite a few mistakes with the Implicits while designing the Scala language üò±!</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/1h8xNBykZqM style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>While this can be really disheartening, this is not enough of a reason to move away from an amazing programming language, just because of a really abused feature! After all, there are other languages with much more horrible warts!</p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/5.png#layoutTextWidth alt=image>
Courtesy: <a href=https://me.me>https://me.me</a></p><p>And JS is the most popular language right now üòâSo, coming onto our topic, keeping the sanity of our mind! For that, we can follow some tips:</p><h3 id=use-an-ide>Use an IDE</h3><p>Personal choice, IntelliJ IDEA with Scala plugin.</p><p>Look at features from <a href=https://blog.jetbrains.com/scala/>JetBrain‚Äôs Scala plugin blog</a>:</p><p>You can show implicitly passed parameters in a function, using ‚Äúshow implicit hints‚Äù feature, so that there‚Äôll be <strong><em>no surprises</em></strong> as what was passed:</p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/6.gif#layoutTextWidth alt=image></p><p>Similar example,</p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/7.gif#layoutTextWidth alt=image></p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/8.gif#layoutTextWidth alt=image></p><h3 id=avoid-implicit-conversionsdefs>Avoid implicit conversions/defs</h3><p>This can become a complete nightmare if a String or any type gets converted to another on the fly without even telling us and we spend hours debugging the issue</p><p>Even Scala compiler will warn you if you use implicit conversion without a specific import ( <strong>scala.language.implicitConversions</strong> ):</p><p><img src=../../posts/2019-10-17_how-to-keep-your-sanity-working-with-scala-implicit/images/9.png#layoutTextWidth alt=image></p><p>So, the tip is, <strong><em>avoid implicit conversions at all costs</em></strong>. When you absolutely need a conversion in your code in a convenient manner, please use <a href=https://medium.com/@lprakashv/making-ordinary-classes-rich-scala-ab7f991d690>implicit classes with extension method</a> like:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#080;font-weight:700>trait</span> <span style=color:#b06;font-weight:700>A</span>
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>trait</span> <span style=color:#b06;font-weight:700>B</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888>//avoid this:
</span></span></span><span style=display:flex><span><span style=color:#888>//implicit def aToB(a: A): B = ???
</span></span></span><span style=display:flex><span><span style=color:#888></span>
</span></span><span style=display:flex><span><span style=color:#888>//do this instead:
</span></span></span><span style=display:flex><span><span style=color:#888></span><span style=color:#080;font-weight:700>implicit</span> <span style=color:#080;font-weight:700>class</span> <span style=color:#b06;font-weight:700>RichA</span><span style=color:#333>(</span>a<span style=color:#080;font-weight:700>:</span> <span style=color:#339;font-weight:700>A</span><span style=color:#333>)</span> <span style=color:#333>{</span>
</span></span><span style=display:flex><span>  <span style=color:#080;font-weight:700>def</span> toB <span style=color:#080;font-weight:700>=</span> <span style=color:#333>???</span>
</span></span><span style=display:flex><span><span style=color:#333>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888>//use it like this:
</span></span></span><span style=display:flex><span><span style=color:#888></span><span style=color:#080;font-weight:700>val</span> someA<span style=color:#080;font-weight:700>:</span> <span style=color:#339;font-weight:700>A</span> <span style=color:#333>=</span> <span style=color:#333>???</span>
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>val</span> someB<span style=color:#080;font-weight:700>:</span> <span style=color:#339;font-weight:700>SomeB</span> <span style=color:#333>=</span> someA<span style=color:#333>.</span>toB
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888>//so that, this will be avoided:
</span></span></span><span style=display:flex><span><span style=color:#888>//val someB: SomeB = someA
</span></span></span></code></pre></div><h3 id=ditch-the-type-inference-and-annotate-the-required-types>Ditch the type inference and annotate the required types</h3><p>Simple logic: Avoid surprises üòÖ and let compilation fail on mismatches!</p><h3 id=check-the-imports>Check the imports</h3><p>Any underscore imports may contain implicit conversions, parameters and/or somewhat safe implicit classes.</p><h2 id=conclusion>Conclusion</h2><p>So, these were my highly opinionated rules to avoid surprises and headaches while working with Scala Implicit! They are really powerful tools for writing really awesome code, please use them, don‚Äôt abuse them :)</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=../../tags/scala>scala</a></li><li><a href=../../tags/scala-implicits>scala implicits</a></li><li><a href=../../tags/pimp-my-library-pattern>pimp my library pattern</a></li><li><a href=../../tags/clean-code>clean code</a></li><li><a href=../../tags/scala-patterns>scala patterns</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=https://www.linkedin.com/in/lprakashv/ title=Linkedin><i data-feather=linkedin></i></a>
<a class=border></a><a class=soc href=https://github.com/lprakashv title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://twitter.com/lprakashv/ title=Twitter><i data-feather=twitter></i></a>
<a class=border></a><a class=soc href="https://stackoverflow.com/users/4066802/lprakashv?tab=profile" title=stackoverflow><i data-feather=stackoverflow></i></a>
<a class=border></a></div><div class=footer-info>2022 ¬© Lalit Prakash Vatsal |</div></footer><script>feather.replace()</script></div><div class=content-side><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-3468549466738898 data-ad-slot=6861065745 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></body></html>