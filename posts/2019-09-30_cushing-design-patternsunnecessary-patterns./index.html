<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Cushing Design Patterns! — Unnecessary Patterns. - LPRAKASHV TECH BLOG</title><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DNE09NG226"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DNE09NG226")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script><meta name=description content="This is the part-II in the continuation of the “Crushing Design Patterns” series (Part-I) where we debunk the idea of having to use the design patterns to design the system.
Intro They are either just so natural that we have been using them unconsciously or there are better ways in which we don’t have to focus on ceremoniously writing them.Here we go.
1. Builder Pattern The intent of the Builder design pattern is to separate the construction of a complex object from its representation."><meta property="og:image" content><meta property="og:title" content="Cushing Design Patterns! — Unnecessary Patterns."><meta property="og:description" content="This is the part-II in the continuation of the “Crushing Design Patterns” series (Part-I) where we debunk the idea of having to use the design patterns to design the system.
Intro They are either just so natural that we have been using them unconsciously or there are better ways in which we don’t have to focus on ceremoniously writing them.Here we go.
1. Builder Pattern The intent of the Builder design pattern is to separate the construction of a complex object from its representation."><meta property="og:type" content="article"><meta property="og:url" content="https://www.lprakashv.com/posts/2019-09-30_cushing-design-patternsunnecessary-patterns./"><meta property="og:image" content="https://www.lprakashv.com/posts/2019-09-30_cushing-design-patternsunnecessary-patterns./images/1.jpeg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-09-30T05:16:43+00:00"><meta property="article:modified_time" content="2022-08-13T01:14:47+05:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.lprakashv.com/posts/2019-09-30_cushing-design-patternsunnecessary-patterns./images/1.jpeg"><meta name=twitter:title content="Cushing Design Patterns! — Unnecessary Patterns."><meta name=twitter:description content="This is the part-II in the continuation of the “Crushing Design Patterns” series (Part-I) where we debunk the idea of having to use the design patterns to design the system.
Intro They are either just so natural that we have been using them unconsciously or there are better ways in which we don’t have to focus on ceremoniously writing them.Here we go.
1. Builder Pattern The intent of the Builder design pattern is to separate the construction of a complex object from its representation."><script src=https://www.lprakashv.com/js/feather.min.js></script>
<link href=https://www.lprakashv.com/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.lprakashv.com/css/main.42a94afe1d883ff4fcef4d850a21c8e0c6903e7b33798d5ca18916cbd645a78a.css></head><body><div class=content-side><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-3468549466738898 data-ad-slot=6861065745 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class=content><header><div class=main><a href=https://www.lprakashv.com/>LPRAKASHV TECH BLOG</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=https://github.com/lprakashv/lprakashv>About</a>
<a href=/tags>Tags</a></nav></header><main><article><div class=title><h1 class=title>Cushing Design Patterns! — Unnecessary Patterns.</h1><div class=meta>Posted on Sep 30, 2019</div></div><section class=body><p><img src=/posts/2019-09-30_cushing-design-patternsunnecessary-patterns./images/1.jpeg#layoutTextWidth alt=image></p><p>This is the part-II in the continuation of the “Crushing Design Patterns” series (<a href=../2019-09-26_crushing-design-patterns-with-scalachain-of-responsibility>Part-I</a>) where we debunk the idea of having to use the design patterns to design the system.</p><h2 id=intro>Intro</h2><p>They are either just so natural that we have been using them unconsciously or there are better ways in which we don’t have to focus on ceremoniously writing them.Here we go.</p><h3 id=1-builder-pattern>1. Builder Pattern</h3><blockquote><p>The intent of the Builder design pattern is to separate the construction of a complex object from its representation.> — Wikipedia</p></blockquote><p>Meaning in plain english: <em>A way to create objects with a flexibility to use any number of parameters for its creation.</em></p><p>Question: what is wrong with the constructors?</p><script type=application/javascript src=https://gist.github.com/d26672d894bc16fa175f55ef308d6f35/2cde574aa004d277509e1b37d25a3b405ea17969.js></script><p>Actual video of me deciding which parameters to put in constructors</p><div class=container><div id=bird-blocks.mp4></div></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js></script><script>var playerElement=document.getElementById("bird-blocks.mp4"),player=new Clappr.Player({source:"https://c.tenor.com/X_L4uaFnF0QAAAPo/bird-blocks.mp4",mute:!0,height:360,width:640,autoPlay:!0,loop:!0});player.attachTo(playerElement),player.pl</script><p>Counter question: How many would you make? To answer that, I’ll have show off my high school mathematics:</p><blockquote><p>If there are <strong><em>n</em></strong> optional parameters/fields, there will be <strong><em>2^n</em></strong> possible combinations of them, that means we’ll have to create those many constructors.</p></blockquote><p>Turns out it will be 64 for our 6 optional veggies. Oh God, Java will make me die unhealthy!</p><div class=container><div id=cookie-monster-vegetables.mp4></div></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js></script><script>var playerElement=document.getElementById("cookie-monster-vegetables.mp4"),player=new Clappr.Player({source:"https://c.tenor.com/7nksOF9d4XQAAAPo/cookie-monster-vegetables.mp4",mute:!0,height:360,width:640,autoPlay:!0,loop:!0});player.attachTo(playerElement),player.pl</script><p>Here comes the Builder pattern for our rescue,</p><script type=application/javascript src=https://gist.github.com/lprakashv/c739b9ebcbbcc06979711bed37ed0236.js></script><p>But hey, this is 2019 and remember, we don’t need to do it like this! Behold, Java has a saviour now, <a href=https://projectlombok.org/features/all><strong><em>lombok</em></strong></a><strong><em>!</em></strong> Let’s rewrite our lombok-y Sandwich class:</p><script type=application/javascript src=https://gist.github.com/lprakashv/47feb00c232296a0105c86ee3f911a55.js></script><div class=container><div id=jake-adventure-time.mp4></div></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js></script><script>var playerElement=document.getElementById("jake-adventure-time.mp4"),player=new Clappr.Player({source:"https://c.tenor.com/8zE-Vg8zqV8AAAPo/jake-adventure-time.mp4",mute:!0,height:360,width:640,autoPlay:!0,loop:!0});player.attachTo(playerElement),player.pl</script><p>That is it! Heck, we didn’t even need write the getters and setters ourselves, lombok does it all for you ! How do we use it, if you ask. Simple:</p><script type=application/javascript src=https://gist.github.com/lprakashv/28770ff78553c0dc2578afc72c509641.js></script><blockquote><p><strong>Pro Tip:</strong> If you are a Java dev, you should definitely check out the <a href=https://projectlombok.org/features/all><strong>Project Lombok</strong></a>, it offer dozens of cool modern features with simple annotations. <strong>All the lombok annotated code simply de-sugars at the compile time into the ugly Java we don’t wanna write!</strong></p></blockquote><p><strong><em>Verdict: Builder Pattern is unnecessary in Java due to lombok! Some languages provide features like named and default arguments (Scala, Clojure, Python etc) making the object building easier.</em></strong></p><h3 id=2-iterator-pattern>2. Iterator Pattern</h3><blockquote><p>The<strong>iterator pattern</strong> is a design pattern in which an iterator is used to traverse a container and access the container’s elements. The iterator pattern decouples algorithms from containers.> — Wikipedia</p></blockquote><p>Meaning: <em>It’s a pattern where</em> <strong><em>an abstract container</em></strong> <em>providing a</em> <strong><em>next()</em></strong> <em>method and in some cases hasNext() method as well.</em></p><p>{{ video src=&ldquo;<a href=https://c.tenor.com/H1P0_7Aq8vMAAAPo/next-britney-spears.mp4%22>https://c.tenor.com/H1P0_7Aq8vMAAAPo/next-britney-spears.mp4"</a> autoPlay=true loop=true id=&ldquo;next-britney-spears.mp4&rdquo; }}</p><p>At this point, if you are a programmer, your brain should be screaming right now. <strong>We already have those in every mainstream programming language!!</strong>.</p><ul><li><strong>Java</strong> has <strong>Iterator&lt;T&lt;</strong> interface.</li><li><strong>Python</strong> objects provides <strong><strong>next</strong>()</strong> method.</li><li><strong>Scala and other functional languages</strong> provide <strong>sequences</strong> and <strong>lazy sequences</strong>.</li></ul><h3 id=3-command-pattern>3. Command Pattern</h3><blockquote><p>Here, object is used to encapsulate all information needed to perform an action or trigger an event at a later time.> — Wikipedia</p></blockquote><p>Meaning: Every command implementation does what it is meant for!</p><p>{{ video src=&ldquo;<a href=https://c.tenor.com/gM3gv9qsN9MAAAPo/your-wish-is-my-command-geenie.mp4%22>https://c.tenor.com/gM3gv9qsN9MAAAPo/your-wish-is-my-command-geenie.mp4"</a> autoPlay=true loop=true id=&ldquo;your-wish-is-my-command-geenie.mp4&rdquo; }}</p><script type=application/javascript src=https://gist.github.com/lprakashv/c09c9975cc0828539c6e547ab10200e2.js></script><p>Usage:</p><script type=application/javascript src=https://gist.github.com/lprakashv/c21f5e07a76638eae91bd7bde520b9dc.js></script><p>You got the point right! Now, I want to you to pay attention and see that “<em>we only care about the encapsulated execute() method”</em>. So, in a nutshell, the <strong><em>Command pattern is just a function/method!</em></strong></p><p>This becomes very intuitive with Java-8 lambdas, we don’t need to create LoginCommand and LogoutCommand wrapper implementations of the Command interface:</p><script type=application/javascript src=https://gist.github.com/lprakashv/a79701e737154861496d6b172a993af7.js></script><p>BTW, this is very easy in functional languages, let’s take Scala for example:</p><script type=application/javascript src=https://gist.github.com/lprakashv/d6f1bec5c5928acdcb9ba63e88e1fa47.js></script><h3 id=4-strategy-pattern>4. Strategy Pattern</h3><blockquote><p>S<strong>trategy pattern</strong> (also known as the <strong>policy pattern</strong>) enables selecting an algorithm at runtime. Instead of implementing a single algorithm directly, code receives run-time instructions as to which in a family of algorithms to use.> — Wikipedia</p></blockquote><p>Meaning: <strong><em>Injecting the algorithm/strategy for some computation at runtime.</em></strong></p><p>For example, suppose we are running a country named LaLaLand and are running out of cash. What would be the best way to fill up our stash?</p><div class=container><div id=taxes-tax.mp4></div></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js></script><script>var playerElement=document.getElementById("taxes-tax.mp4"),player=new Clappr.Player({source:"https://c.tenor.com/qcon77gJQxUAAAPo/taxes-tax.mp4",mute:!0,height:360,width:640,autoPlay:!0,loop:!0});player.attachTo(playerElement),player.pl</script><p>We start making a taxing strategy, let’s tax a quarter of the income of everybody.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># quarter-taxing-strategy:</span>
</span></span><span style=display:flex><span>tax <span style=color:#f92672>=</span> user<span style=color:#f92672>.</span>income <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span>
</span></span></code></pre></div><p>But , when we think about the good people running a kitten orphanage NGO, we feel bad for them. Also, we want to tax more the black money holders now. <strong>We need more strategies</strong>!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># non-profit-taxing-strategy:</span>
</span></span><span style=display:flex><span>tax <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># half-taxing-strategy:</span>
</span></span><span style=display:flex><span>tax <span style=color:#f92672>=</span> user<span style=color:#f92672>.</span>income <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>
</span></span></code></pre></div><p>Here, <strong><em>the algorithm is the taxing strategy</em></strong> to compute the taxes from users. More strategies mean, more algorithms (functions). Let’s start with good old Java way:</p><script type=application/javascript src=https://gist.github.com/lprakashv/2156908af1a9a6f5f0321d287728b51a.js></script><p>For every new strategy, we need to create another implementation class! Usage:</p><script type=application/javascript src=https://gist.github.com/lprakashv/6b49ae0861f6bfaec9295bb7e3bca424.js></script><p>Smart ones among you might already have guessed that <strong><em>we don’t need the wrapper implementation classes, we just need functions as strategies and pass them around arguments</em></strong>!</p><p>Let’s do it in functional way (no need to create multiple implementations of Strategy interface):</p><script type=application/javascript src=https://gist.github.com/lprakashv/594d5e7397e7dd2ec4fcaf80218195c6.js></script><div class=container><div id=cool-coolbeans.mp4></div></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js></script><script>var playerElement=document.getElementById("cool-coolbeans.mp4"),player=new Clappr.Player({source:"https://c.tenor.com/HDaAEuOODc4AAAPo/cool-coolbeans.mp4",mute:!0,height:360,width:640,autoPlay:!0,loop:!0});player.attachTo(playerElement),player.pl</script><p>In functional languages (Scala):</p><script type=application/javascript src=https://gist.github.com/lprakashv/ba85d532183912bf0fcf6f193c197b09.js></script><h2 id=conclusion>Conclusion</h2><p>We have discussed 4 pattern in this post: Builder, Iterator, Command and Strategy. Each one can be used without writing any pattern, simply by just intuitively using language features (even in Java). Each pattern has been right in front of us hiding in the language!</p><p>In summary:</p><ol><li><em>Builder — Lombok’s Builder annotation in Java, named and default parameters in other languages (Scala, Clojure, Python etc).</em></li><li><em>Iterator — Readily available interfaces/abstractions in many languages.</em></li><li><em>Command — Just pure functions.</em></li><li><em>Strategy — passing functions as strategy at runtime.</em></li></ol></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/design-patterns>design patterns</a></li><li><a href=/tags/java>java</a></li><li><a href=/tags/scala>scala</a></li><li><a href=/tags/functional-programming>functional programming</a></li><li><a href=/tags/fp>FP</a></li><li><a href=/tags/builder-pattern>builder pattern</a></li><li><a href=/tags/lambda-functions>lambda functions</a></li><li><a href=/tags/java-streams>java streams</a></li><li><a href=/tags/strategy-pattern>strategy pattern</a></li><li><a href=/tags/command-pattern>command pattern</a></li><li><a href=/tags/iterator-pattern>iterator pattern</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=https://www.linkedin.com/in/lprakashv/ title=Linkedin><i data-feather=linkedin></i></a>
<a class=border></a><a class=soc href=https://github.com/lprakashv title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://twitter.com/lprakashv/ title=Twitter><i data-feather=twitter></i></a>
<a class=border></a><a class=soc href="https://stackoverflow.com/users/4066802/lprakashv?tab=profile" title=stackoverflow><i data-feather=stackoverflow></i></a>
<a class=border></a></div><div class=footer-info>2022 © Lalit Prakash Vatsal |</div></footer><script>feather.replace()</script></div><div class=content-side><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-3468549466738898 data-ad-slot=6861065745 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></body></html>