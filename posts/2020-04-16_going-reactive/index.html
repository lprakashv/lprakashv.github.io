<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Going Reactive! - LALIT's TECH BLOG</title>
<link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DNE09NG226"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DNE09NG226")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468549466738898" crossorigin=anonymous></script><meta name=description content="Logo courtesy: http://reactivex.io/
There is a lot of hype around this shiny new thing in web applications development world called being “Reactive”! There are many frameworks popping up with this slogan, e.g., Vert.x, Akka, Spring Webflux, Play, RxJava, RxJS etc. to name a few. What does it mean? and why is this hype? is it worth your time? Let’s explore…
What does Reactive mean exactly? Being reactive means ability to “react” to “events/changes”."><meta property="og:image" content><meta property="og:title" content="Going Reactive!"><meta property="og:description" content="Logo courtesy: http://reactivex.io/
There is a lot of hype around this shiny new thing in web applications development world called being “Reactive”! There are many frameworks popping up with this slogan, e.g., Vert.x, Akka, Spring Webflux, Play, RxJava, RxJS etc. to name a few. What does it mean? and why is this hype? is it worth your time? Let’s explore…
What does Reactive mean exactly? Being reactive means ability to “react” to “events/changes”."><meta property="og:type" content="article"><meta property="og:url" content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/"><meta property="og:image" content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/images/1.png"><meta property="og:image" content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/images/2.gif"><meta property="og:image" content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/images/3.png"><meta property="og:image" content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/images/4.png"><meta property="og:image" content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/images/5.png"><meta property="og:image" content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/images/6.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-16T10:47:47+00:00"><meta property="article:modified_time" content="2022-08-13T01:14:55+05:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.lprakashv.com/posts/2020-04-16_going-reactive/images/1.png"><meta name=twitter:title content="Going Reactive!"><meta name=twitter:description content="Logo courtesy: http://reactivex.io/
There is a lot of hype around this shiny new thing in web applications development world called being “Reactive”! There are many frameworks popping up with this slogan, e.g., Vert.x, Akka, Spring Webflux, Play, RxJava, RxJS etc. to name a few. What does it mean? and why is this hype? is it worth your time? Let’s explore…
What does Reactive mean exactly? Being reactive means ability to “react” to “events/changes”."><script src=https://www.lprakashv.com/js/feather.min.js></script><link href=https://www.lprakashv.com/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.lprakashv.com/css/main.42a94afe1d883ff4fcef4d850a21c8e0c6903e7b33798d5ca18916cbd645a78a.css></head><body><div class=content><header><div class=main><div style=display:flex;flex-direction:row><img src=../../Lalit-new-logo-3.png style=border-color:#fff;border-radius:15px;width:150px><div style=margin:auto><a href=https://www.lprakashv.com/ style=font-size:2vh;font-weight:700>LALIT's TECH BLOG</a></div></div></div><nav><a href=../../>Home</a>
<a href=../../posts>All posts</a>
<a href=../../about>About</a>
<a href=../../tags>Tags</a></nav></header><main><article><div class=title><h1 class=title>Going Reactive!</h1><div class=meta>Posted on Apr 16, 2020</div></div><section class=body><p><img src=../../posts/2020-04-16_going-reactive/images/1.png#layoutTextWidth alt=image>
Logo courtesy: <a href=http://reactivex.io/>http://reactivex.io/</a></p><p>There is a lot of hype around this shiny new thing in web applications development world called being “Reactive”! There are many frameworks popping up with this slogan, e.g., Vert.x, Akka, Spring Webflux, Play, RxJava, RxJS etc. to name a few. What does it mean? and why is this hype? is it worth your time? Let’s explore…</p><h3 id=what-does-reactive-mean-exactly>What does Reactive mean exactly?</h3><p>Being reactive means <strong><em>ability to “react” to “events/changes”.</em></strong> One very simple example is how a column in excel-sheet gets updated (reacts) if the column which it depends upon changes.</p><p><img src=../../posts/2020-04-16_going-reactive/images/2.gif#layoutTextWidth alt=image></p><p>This is a known design pattern and <strong><em>can be implemented using “Observer pattern” or a “Publisher-Subscriber pattern”</em></strong>, where there is a publisher and one or more subscribers to it.</p><p>There are two distinct things which are Reactive, [a] <strong>Reactive programming</strong>, which uses the reactive programming principles (including the above stated observer pattern) and [b] <strong>Reactive system</strong> where an entire system follows the guidelines of the “<a href=http://www.reactivemanifesto.org/>reactive manifesto</a>”. The latter one in fact is much bigger picture.</p><p><img src=../../posts/2020-04-16_going-reactive/images/3.png#layoutTextWidth alt=image>
Courtesy: <a href=https://www.lightbend.com/white-papers-and-reports/reactive-programming-versus-reactive-systems>https://www.lightbend.com/white-papers-and-reports/reactive-programming-versus-reactive-systems</a></p><p>There is a really <a href=https://www.lightbend.com/white-papers-and-reports/reactive-programming-versus-reactive-systems>cool post</a> about this difference from Lightbend, do check it out! <strong><em>We will however stick to the “reactive-programming” for the scope of this article</em></strong>.</p><h3 id=reactive-programming>Reactive Programming</h3><p>We just saw that we can implement reactive using our plain-old Observer pattern or a Publisher-Subscriber (PubSub) pattern.</p><blockquote><p>So, is this it?</p></blockquote><p>Try to fit every piece of your code with a Pub-Sub pattern, you would need certain disciplinary guidelines to be able to make use of it without pulling your hairs out! In fact there are more than just PubSub and Observer pattern to implement reactive e.g., event-loop, actor model etc.</p><p>There are some fundamental building block of the reactive programming model:</p><p><strong><em>Non-blocking:</em></strong> Execution of a task shouldn’t block another task’s execution.</p><blockquote><p>In our PuSub context, any event should be handled without blocking the execution of upcoming events.</p></blockquote><p><strong><em>Asynchronous:</em></strong> Tasks happen asynchronously/separately and may notify after they’re done. Most popular programming pattern seen with this model is callbacks.</p><p>CompletableFuture is a very good example for asynchronous programming in Java:</p><script src=https://gist.github.com/lprakashv/a0a9f913f58b3a64f392b46c88bbe344.js></script><p>The above code is asynchronous as well as it won’t block! Most often than not, <strong><em>non-blocking and asynchronous are the same thing</em></strong>. If a piece of code is asynchronous, it has to be non-blocking and vice-versa.</p><p>There is one major problem with the callbacks, and that is the <a href=http://callbackhell.com/><strong><em>Callback Hell</em></strong></a> when we have more than 2 nested callbacks, the code starts to look obscure and becomes unmaintainable very quickly.</p><script src=https://gist.github.com/lprakashv/73cdeb5053ae790f45ac29e7c242b5ed.js></script><p><strong><em>Functional/Declarative:</em></strong> To overcome the callback hell and be able to compose (or chain) the operations on the events subscribed, we should use the functional/declarative style. Suppose there is a high level construct of Publisher and Subscriber such that we could use:</p><script src=https://gist.github.com/lprakashv/e74478507095de99f6b2c26c4e2c20bf.js></script><p>The above code looks more elegant even though it performs a lot of things in steps with a merge chaining of functions. It was just an example taken from Spring Webflux’s Publisher/Subscriber API. There are other reactive libraries and frameworks where this type of functional composition and chaining is possible.</p><p>Java 9 also has introduced <a href=https://www.reactive-streams.org/>Reactive Streams</a> and it would be exciting to see how this evolves over time.</p><h3 id=ok-what-to-i-get-from-being-reactive>OK, what to I get from being Reactive?</h3><p>In a traditional blocking code, a thread may get blocked and awaits for the result of some other task. While waiting, it is simply doing nothing! But since, the thread is there, it will consume the precious CPU cycles, waking up checking if the execution is completed and going back to sleep if the result has not arrived.</p><p><img src=../../posts/2020-04-16_going-reactive/images/4.png#layoutTextWidth alt=image></p><p>While, non-blocking code usually implemented using either,</p><p><strong><em>Event-loop</em></strong>: I is essentially just a single thread! This event-loop executes/notifies the process to be run/invoked next without getting blocked. Hence, instead of multiple threads waiting for the resource, there’s just this one thread which handles all the I/O and resource allocation to different requests. Just like a waiter does for multiple customers. Example implementations are Vert.x, nodejs, etc.</p><p><img src=../../posts/2020-04-16_going-reactive/images/5.png#layoutTextWidth alt=image></p><p><strong><em>Event driven thread-pool backed mechanism</em></strong>: Event driven mechanism involving very small number of threads usually employs some virtual process units (actors, verticles, queue etc.) on top of a thread-pool framework (Fork-Join) making an efficient use of it. Example implementations are Akka Actor model, Reactor, etc.</p><p><img src=../../posts/2020-04-16_going-reactive/images/6.png#layoutTextWidth alt=image></p><p>In addition to that, subscribers being notified (push based) on events by the publisher means that subscribers don’t have to keep polling for the events, saving further more CPU resources.</p><p>Ultimately this all leads to better resource management and this is why the reactive model can work with even lesser number threads.</p><h3 id=why-the-sudden-need>Why the sudden Need?</h3><p>We live in the era of “clouds” and “scale”. And by scale, I mean massive scale with thousands to hundreds of thousands users concurrently using your application.</p><p>Before the “reactive” hype, every web application out there used to work on a synchronous/blocking <strong><em>“1 thread per request model”</em></strong>. Which means that <strong>a thread is allocated for every request</strong>! This model served perfectly well for us in past, but in today’s age of mobile apps cheaper and accessible internet, the number of users a “viral” app has to handle can grow really fast.</p><p>This massive scale demands resources (larger or more machines) and getting resources in cloud costs money! So, we desperately needed a model which could scale even with lesser resources. In our case lesser number of threads for a highly concurrent application.</p><h3 id=use-cases>Use cases</h3><p>As we discussed about this reactive model of programming, you might have had the impression of this being the holy grail for modern web programming. This does in fact also add some noticeable complexity to the system. As they say,</p><blockquote><p>If you consider all you have is as a hammer, everything else will start looking like a nail!</p></blockquote><p>There is a lot, which is required from a developer to develop truly reactive applications:</p><p><strong><em>Discipline is Needed:</em></strong> If you are using a reactive framework and the database driver is blocking, you will end up blocking threads, same applies to every other block of you system. Hence, to have a proper reactive application, you have no option but to go <strong><em>“all reactive”</em></strong>!</p><figure><img src="https://media4.giphy.com/media/j3KXqE52HwpQcatFj5/giphy.gif?cid=790b7611301d508f9af34d6b8c45b49360970b1b15d3050a&amp;rid=giphy.gif&amp;ct=g"></figure><p>This adds even more complexity and does influence many critical design decisions that have to be made, such as:</p><ol><li>Which DB to use, does it have reactive drivers?</li><li>Does the libraries I am using support reactive?</li><li>Is there any blocking operation that I am doing within my system?</li><li>Do I have written appropriate adapter/wrappers over all the non-reactive components?</li></ol><h2 id=conclusion>Conclusion</h2><p>So, better stick to the traditional frameworks unless there is a need otherwise. Some such scenarios could be:</p><ul><li>Highly concurrent application.</li><li>With limited resources.</li><li>Handling request spikes (back-pressure).</li></ul><p>This is all from me and hope you got some reactive knowledge out of this post.</p><p>Thanks for Reading and have a Good day :)</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=../../tags/reactive-programming>reactive programming</a></li><li><a href=../../tags/reactive-applications>reactive applications</a></li><li><a href=../../tags/threadpool>threadpool</a></li><li><a href=../../tags/executors>executors</a></li><li><a href=../../tags/event-loop>event loop</a></li><li><a href=../../tags/reactivex>reactivex</a></li><li><a href=../../tags/reactive-framework>reactive framework</a></li></ul></nav></div><script id=diffblog-plugin-script async src=https://diff.blog/static/js/diffblog_plugin_v1.js></script><script>document.getElementById("diffblog-plugin-script").addEventListener("load",function(){DiffBlog("hhv3f1602vgc1ljqid62utggmyom9g2ujt9tm6gw74msobue5n")})</script><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://lprakashv-tech-blog.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer><div style=display:flex><a class=soc href=https://www.linkedin.com/in/lprakashv/ title=Linkedin><i data-feather=linkedin></i></a>
<a class=border></a><a class=soc href=https://github.com/lprakashv title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://twitter.com/lprakashv/ title=Twitter><i data-feather=twitter></i></a>
<a class=border></a><a class=soc href="https://stackoverflow.com/users/4066802/lprakashv?tab=profile" title=stackoverflow><i data-feather=stackoverflow></i></a>
<a class=border></a></div><div class=footer-info>2024 © Lalit Prakash Vatsal |</div></footer><script>feather.replace()</script></div></body></html>